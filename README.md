# MIDI keyboard se-button

MIDIキーボードを繋いで，SEをならすためのアプリ

## 使い方

config.csvに
- 割当キー
- BGM名（自由に付けて良い）
- SEやBGMファイルへのパス
- ボリューム(1.0が標準）
- 音源タイプ（BGM,ShortSE,LongSEのいずれか)

を書く．

## キー
キーは以下のリンクを参照してください．
たとえばど真ん中のドだったら60です．
http://www.asahi-net.or.jp/~HB9T-KTD/music/Japan/Research/DTM/freq_map.html

## 音源タイプ

### BGM
同時に1つしか流れない．
ボリュームを調節できる．
新たなBGMを開始する場合はいちどBGM終了コマンドを入れる必要がある．

### LongSE
キーを押下している間だけ流れる．
押下し直すと，音源も初めからに成る．

### ShortSE
同時にいくらでも流せる．
同じ音源は同時にひとつしか流せない．
キーを離しても流れ続ける．
前の音源が終わる前にもう一度キーを押下すると前の音源を即座に終了して，新たに音源を初めから流す．

## ボリューム調整

- MIDIメッセージ [176, 1, 127]でボリューム0.05アップ．最大限モジュレーションをかけるときのメッセージです．
- MIDIメッセージ [176, 2, 127]でボリューム0.05ダウン．最大限ブレス・コントロールをかけるときのメッセージです．

ボリュームが0.05未満や1.3以上になろうとするコマンドが入力されたときは無視します．

## BGM終了
- MIDIメッセージ [224, 0, 0]でBGMを切ります．ピッチホイールを最大限下げるときのメッセージです．
